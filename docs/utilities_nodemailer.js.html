<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: utilities/nodemailer.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: utilities/nodemailer.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>//@ts-check
/** 
 * package for inclusion in any program
 * @namespace nodemailer
 * 
 * 
 * @module sendEmail
 */


// add npm package nodemailer to package.json "npm i nodemailer" and require here
/**
 * @requires nodemailer
 * @type {*}
 */
var nodemailer = require('nodemailer');
require("dotenv").config();


/**
 * Schema for nodemailer, must have npm package dotenv installed "npm i dotenv" and .env file with following two lines
 *  NODEMAILER_GMAIL_ACCOUNT=your_gmail_address
 *  NODEMAILER_GMAIL_PASSWORD=your_gmail_password
 * 
 *  assumes your gmail account has "access for less secure apps" enabled
 * @namespace transporter
 * @memberof senEmail
 * @type {*}
 * @function createTransport
 * @property {string} service Name of email service such as "gmail" or "linode"
 * @property {object} auth Object contains email address and password of authorized server/sender
 * @property {string} auth.user Email address of authorized email server/sender
 * @property {string} auth.pass Email password of authorized email server/sender
 */
var transporter = nodemailer.createTransport({
    service: 'gmail',
    auth: {
        user: process.env.NODEMAILER_GMAIL_ACCOUNT,
        pass: process.env.NODEMAILER_GMAIL_PASSWORD
    }
});


/**
 * Parameter object for call to {@link sendEmail}, assumes npm package dotenv installed and .env file in place
 * @namespace mailOptions
 * @memberof sendEmail
 * @type {object}
 * @property {string} from The sending gmail/email account
 * @property {string} to The receiving email account
 * @property {string} subject The subject of the email
 * @property {string} text The text of the email
 */
var mailOptions = {
    from: process.env.NODEMAILER_GMAIL_ACCOUNT,
    to: 'stevenbowler@yahoo.com',
    subject: 'Testing Found Match Program',
    text: `Your Match has been Found`
};


/**
 * In your app include statement 'var sendEmail = require("thisNodeMailerFile.js")'
 * include call to "sendEmail(targetEmail)" in your code with target email address "targetEmail" as parameter
 * @namespace sendEmail
 * @memberof nodemailer
 * @function sendEmail
 * @param {object} newFriend 
 * @param {object} matchFriend 
 */
function sendEmail(newFriend, matchFriend) {
    // nodemailer
    mailOptions.to = newFriend.email;
    mailOptions.text = `Your perfect match is ${matchFriend.name} found at ${matchFriend.email}`;
    console.log(`transporter.sendMail mailOptions.to ${mailOptions.to} matchFriend: ${matchFriend.email}`);
    transporter.sendMail(mailOptions, function (error, info) {
        if (error) {
            console.log(error);
        } else {
            console.log('Email sent: ' + info.response);
        }
    });
}

module.exports = sendEmail;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">FriendFinder</a></h2><h3>Modules</h3><ul><li><a href="module-router_apiRoutes.html">router/apiRoutes</a></li><li><a href="module-router_htmlRoutes.html">router/htmlRoutes</a></li><li><a href="module-sendEmail.html">sendEmail</a></li></ul><h3>Namespaces</h3><ul><li><a href="module-router_apiRoutes-apiRoutes.html">apiRoutes</a></li><li><a href="module-router_htmlRoutes-htmlRoutes.html">htmlRoutes</a></li><li><a href="sendEmail.mailOptions.html">mailOptions</a></li><li><a href="server.html">server</a></li></ul><h3>Global</h3><ul><li><a href="global.html#apiRoutes">apiRoutes</a></li><li><a href="global.html#express">express</a></li><li><a href="global.html#friends">friends</a></li><li><a href="global.html#htmlRoutes">htmlRoutes</a></li><li><a href="global.html#path">path</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Sat Apr 25 2020 22:51:00 GMT-0500 (Central Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
